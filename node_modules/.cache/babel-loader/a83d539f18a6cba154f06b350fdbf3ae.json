{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/React/workspace/src/FrontEnd/Components/List.js\";\nimport React from 'react';\nimport { DatePicker, Typography, Table } from 'antd';\nimport axios from 'axios';\nimport baseURL from '../Components/AxiosAPI';\nimport moment from 'moment';\nimport './List.css';\nconst dateFormat = 'YYYY-MM-DD';\nconst testDate = '2019-06-12';\nconst stock_columns = [{\n  title: '品項',\n  dataIndex: 'title',\n  key: 'title',\n  render: text => React.createElement(\"a\", {\n    href: \"javascript:;\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, text)\n}, {\n  title: '庫存',\n  dataIndex: 'stock',\n  key: 'stock',\n  width: '2cm'\n}, {\n  title: '叫貨量',\n  dataIndex: 'order',\n  key: 'order',\n  width: '2cm'\n}];\nconst expense_columns = [{\n  title: '項目',\n  dataIndex: 'title',\n  key: 'title',\n  render: text => React.createElement(\"a\", {\n    href: \"javascript:;\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, text)\n}, {\n  title: '金額',\n  dataIndex: 'cost',\n  key: 'cost',\n  width: '2cm'\n}];\nconst income_columns = [{\n  title: '營業額',\n  dataIndex: 'title',\n  key: 'title',\n  render: text => React.createElement(\"a\", {\n    href: \"javascript:;\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, text)\n}, {\n  title: '金額',\n  dataIndex: 'income',\n  key: 'income',\n  width: '2cm'\n}];\n\nclass ListItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.GetData = (shop, branch, date) => {\n      axios.get(baseURL + '/ShopData/getLastStock', {\n        params: {\n          shop: shop,\n          branch: branch,\n          date: '2019-06-06'\n        }\n      }).then(response => {\n        this.setState({\n          data: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get(baseURL + '/ShopData/getLastExpense', {\n        params: {\n          shop: shop,\n          branch: branch\n        }\n      }).then(response => {\n        this.setState({\n          expense: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get(baseURL + '/ShopData/getLastIncome', {\n        params: {\n          shop: shop,\n          branch: branch\n        }\n      }).then(response => {\n        this.setState({\n          income: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get(baseURL + '/ShopData/getLastUploadDate', {\n        params: {\n          shop: shop,\n          branch: branch\n        }\n      }).then(response => {\n        this.setState({\n          lastUploadDate: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      data: '',\n      expense: '',\n      income: '',\n      lastUploadDate: testDate,\n      stockTableData: '',\n      test: testDate\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          data = _this$state.data,\n          expense = _this$state.expense,\n          stockTableData = _this$state.stockTableData;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(DatePicker, {\n      defaultValue: moment(this.state.lastUploadDate, dateFormat),\n      format: dateFormat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.state.lastUploadDate), React.createElement(\"h3\", {\n      style: {\n        marginBottom: 16\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"\\u5EAB\\u5B58\"), React.createElement(Table, {\n      columns: stock_columns,\n      dataSource: data,\n      size: \"small\",\n      pagination: false,\n      scroll: {\n        y: 240\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      style: {\n        marginBottom: 16\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"\\u652F\\u51FA\"), React.createElement(Table, {\n      columns: expense_columns,\n      dataSource: expense,\n      size: \"small\",\n      pagination: false,\n      scroll: {\n        y: 240\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      style: {\n        marginBottom: 16\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"\\u6536\\u5165\"), React.createElement(Table, {\n      columns: income_columns,\n      dataSource: this.state.income,\n      size: \"small\",\n      pagination: false,\n      scroll: {\n        y: 240\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }));\n  }\n\n  componentWillMount() {\n    console.log('componentWillMount');\n    this.GetData(window.localStorage.getItem('shopname'), window.localStorage.getItem('branch'));\n  }\n\n}\n\nexport default ListItem;","map":{"version":3,"sources":["/Users/mac/Documents/React/workspace/src/FrontEnd/Components/List.js"],"names":["React","DatePicker","Typography","Table","axios","baseURL","moment","dateFormat","testDate","stock_columns","title","dataIndex","key","render","text","width","expense_columns","income_columns","ListItem","Component","constructor","props","GetData","shop","branch","date","get","params","then","response","setState","data","catch","error","console","log","expense","income","lastUploadDate","state","stockTableData","test","marginBottom","y","componentWillMount","window","localStorage","getItem"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAgCC,KAAhC,QAA6C,MAA7C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,YAAP;AAEA,MAAMC,UAAU,GAAG,YAAnB;AACA,MAAMC,QAAQ,GAAG,YAAjB;AACA,MAAMC,aAAa,GAAG,CACpB;AACEC,EAAAA,KAAK,EAAE,IADT;AAEEC,EAAAA,SAAS,EAAE,OAFb;AAGEC,EAAAA,GAAG,EAAE,OAHP;AAIEC,EAAAA,MAAM,EAAEC,IAAI,IAAI;AAAG,IAAA,IAAI,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBA,IAAxB;AAJlB,CADoB,EAOpB;AACEJ,EAAAA,KAAK,EAAE,IADT;AAEEC,EAAAA,SAAS,EAAE,OAFb;AAGEC,EAAAA,GAAG,EAAE,OAHP;AAIEG,EAAAA,KAAK,EAAC;AAJR,CAPoB,EAapB;AACEL,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,SAAS,EAAE,OAFb;AAGEC,EAAAA,GAAG,EAAE,OAHP;AAIEG,EAAAA,KAAK,EAAC;AAJR,CAboB,CAAtB;AAoBA,MAAMC,eAAe,GAAG,CACtB;AACEN,EAAAA,KAAK,EAAE,IADT;AAEEC,EAAAA,SAAS,EAAE,OAFb;AAGEC,EAAAA,GAAG,EAAE,OAHP;AAIEC,EAAAA,MAAM,EAAEC,IAAI,IAAI;AAAG,IAAA,IAAI,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBA,IAAxB;AAJlB,CADsB,EAOtB;AACEJ,EAAAA,KAAK,EAAE,IADT;AAEEC,EAAAA,SAAS,EAAE,MAFb;AAGEC,EAAAA,GAAG,EAAE,MAHP;AAIEG,EAAAA,KAAK,EAAC;AAJR,CAPsB,CAAxB;AAcA,MAAME,cAAc,GAAG,CACrB;AACEP,EAAAA,KAAK,EAAE,KADT;AAEEC,EAAAA,SAAS,EAAE,OAFb;AAGEC,EAAAA,GAAG,EAAE,OAHP;AAIEC,EAAAA,MAAM,EAAEC,IAAI,IAAI;AAAG,IAAA,IAAI,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBA,IAAxB;AAJlB,CADqB,EAOrB;AACEJ,EAAAA,KAAK,EAAE,IADT;AAEEC,EAAAA,SAAS,EAAE,QAFb;AAGEC,EAAAA,GAAG,EAAE,QAHP;AAIEG,EAAAA,KAAK,EAAC;AAJR,CAPqB,CAAvB;;AAeA,MAAMG,QAAN,SAAuBlB,KAAK,CAACmB,SAA7B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SA+BhBC,OA/BgB,GA+BN,CAACC,IAAD,EAAMC,MAAN,EAAaC,IAAb,KAAqB;AAC7BrB,MAAAA,KAAK,CAACsB,GAAN,CAAUrB,OAAO,GAAC,wBAAlB,EACI;AACEsB,QAAAA,MAAM,EAAE;AACNJ,UAAAA,IAAI,EAAGA,IADD;AAENC,UAAAA,MAAM,EAAGA,MAFH;AAGNC,UAAAA,IAAI,EAAC;AAHC;AADV,OADJ,EASGG,IATH,CASUC,QAAD,IAAa;AACpB,aAAKC,QAAL,CAAc;AAACC,UAAAA,IAAI,EAACF,QAAQ,CAACE;AAAf,SAAd;AACD,OAXD,EAYCC,KAZD,CAYO,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAdD;AAgBA7B,MAAAA,KAAK,CAACsB,GAAN,CAAUrB,OAAO,GAAC,0BAAlB,EACA;AACEsB,QAAAA,MAAM,EAAE;AACNJ,UAAAA,IAAI,EAAEA,IADA;AAENC,UAAAA,MAAM,EAAEA;AAFF;AADV,OADA,EAOCI,IAPD,CAOQC,QAAD,IAAc;AACnB,aAAKC,QAAL,CAAc;AAACM,UAAAA,OAAO,EAACP,QAAQ,CAACE;AAAlB,SAAd;AACD,OATD,EAUCC,KAVD,CAUO,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAZD;AAcA7B,MAAAA,KAAK,CAACsB,GAAN,CAAUrB,OAAO,GAAC,yBAAlB,EACA;AACEsB,QAAAA,MAAM,EAAE;AACNJ,UAAAA,IAAI,EAAEA,IADA;AAENC,UAAAA,MAAM,EAAEA;AAFF;AADV,OADA,EAOCI,IAPD,CAOQC,QAAD,IAAc;AACnB,aAAKC,QAAL,CAAc;AAACO,UAAAA,MAAM,EAACR,QAAQ,CAACE;AAAjB,SAAd;AACD,OATD,EAUCC,KAVD,CAUO,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAZD;AAaA7B,MAAAA,KAAK,CAACsB,GAAN,CAAUrB,OAAO,GAAC,6BAAlB,EACA;AACEsB,QAAAA,MAAM,EAAE;AACNJ,UAAAA,IAAI,EAAEA,IADA;AAENC,UAAAA,MAAM,EAAEA;AAFF;AADV,OADA,EAOCI,IAPD,CAOQC,QAAD,IAAc;AACnB,aAAKC,QAAL,CAAc;AAACQ,UAAAA,cAAc,EAACT,QAAQ,CAACE;AAAzB,SAAd;AACD,OATD,EAUCC,KAVD,CAUO,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAZD;AAaD,KAxFe;;AAEd,SAAKM,KAAL,GAAa;AACXR,MAAAA,IAAI,EAAC,EADM;AAEXK,MAAAA,OAAO,EAAC,EAFG;AAGXC,MAAAA,MAAM,EAAC,EAHI;AAIXC,MAAAA,cAAc,EAAC9B,QAJJ;AAKXgC,MAAAA,cAAc,EAAC,EALJ;AAMXC,MAAAA,IAAI,EAACjC;AANM,KAAb;AAQD;;AACHK,EAAAA,MAAM,GAAE;AAAA,wBAC6B,KAAK0B,KADlC;AAAA,UACAR,IADA,eACAA,IADA;AAAA,UACKK,OADL,eACKA,OADL;AAAA,UACaI,cADb,eACaA,cADb;AAEJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AAAY,MAAA,YAAY,EAAElC,MAAM,CAAC,KAAKiC,KAAL,CAAWD,cAAZ,EAA4B/B,UAA5B,CAAhC;AAAyE,MAAA,MAAM,EAAEA,UAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKgC,KAAL,CAAWD,cAAhB,CAFJ,EAGI;AAAI,MAAA,KAAK,EAAE;AAAEI,QAAAA,YAAY,EAAE;AAAhB,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,EAII,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAEjC,aAAhB;AAA+B,MAAA,UAAU,EAAEsB,IAA3C;AAAiD,MAAA,IAAI,EAAC,OAAtD;AAA8D,MAAA,UAAU,EAAE,KAA1E;AAAiF,MAAA,MAAM,EAAE;AAAEY,QAAAA,CAAC,EAAE;AAAL,OAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI;AAAI,MAAA,KAAK,EAAE;AAAED,QAAAA,YAAY,EAAE;AAAhB,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,EAMI,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAE1B,eAAhB;AAAiC,MAAA,UAAU,EAAEoB,OAA7C;AAAsD,MAAA,IAAI,EAAC,OAA3D;AAAmE,MAAA,UAAU,EAAE,KAA/E;AAAsF,MAAA,MAAM,EAAE;AAAEO,QAAAA,CAAC,EAAE;AAAL,OAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAOI;AAAI,MAAA,KAAK,EAAE;AAAED,QAAAA,YAAY,EAAE;AAAhB,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPJ,EAQI,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAEzB,cAAhB;AAAgC,MAAA,UAAU,EAAE,KAAKsB,KAAL,CAAWF,MAAvD;AAA+D,MAAA,IAAI,EAAC,OAApE;AAA4E,MAAA,UAAU,EAAE,KAAxF;AAA+F,MAAA,MAAM,EAAE;AAAEM,QAAAA,CAAC,EAAE;AAAL,OAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CADJ;AAaH;;AACDC,EAAAA,kBAAkB,GAAG;AACjBV,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,SAAKb,OAAL,CAAauB,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAb,EAAqDF,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CAArD;AACD;;AA/B+B;;AA4FtC,eAAe7B,QAAf","sourcesContent":["import React from 'react';\nimport { DatePicker, Typography,Table } from 'antd';\nimport axios from 'axios'\nimport baseURL from '../Components/AxiosAPI'\nimport moment from 'moment';\n\nimport './List.css'\n\nconst dateFormat = 'YYYY-MM-DD';\nconst testDate = '2019-06-12'\nconst stock_columns = [\n  {\n    title: '品項',\n    dataIndex: 'title',\n    key: 'title',\n    render: text => <a href=\"javascript:;\">{text}</a>,\n  },\n  {\n    title: '庫存',\n    dataIndex: 'stock',\n    key: 'stock',\n    width:'2cm',\n  },\n  {\n    title: '叫貨量',\n    dataIndex: 'order',\n    key: 'order',\n    width:'2cm',\n  }\n];\nconst expense_columns = [\n  {\n    title: '項目',\n    dataIndex: 'title',\n    key: 'title',\n    render: text => <a href=\"javascript:;\">{text}</a>,\n  },\n  {\n    title: '金額',\n    dataIndex: 'cost',\n    key: 'cost',\n    width:'2cm',\n  }\n];\nconst income_columns = [\n  {\n    title: '營業額',\n    dataIndex: 'title',\n    key: 'title',\n    render: text => <a href=\"javascript:;\">{text}</a>,\n  },\n  {\n    title: '金額',\n    dataIndex: 'income',\n    key: 'income',\n    width:'2cm',\n  }\n];\n\nclass ListItem extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n          data:'',\n          expense:'',\n          income:'',\n          lastUploadDate:testDate,\n          stockTableData:'',\n          test:testDate\n        }      \n      }\n    render(){\n      const{data,expense,stockTableData}=this.state\n        return(\n            <div >\n                <DatePicker defaultValue={moment(this.state.lastUploadDate, dateFormat)} format={dateFormat} />\n                <h2>{this.state.lastUploadDate}</h2>\n                <h3 style={{ marginBottom: 16 }}>庫存</h3>\n                <Table columns={stock_columns} dataSource={data} size='small' pagination={false} scroll={{ y: 240 }} />\n                <h3 style={{ marginBottom: 16 }}>支出</h3>\n                <Table columns={expense_columns} dataSource={expense} size='small' pagination={false} scroll={{ y: 240 }} />\n                <h3 style={{ marginBottom: 16 }}>收入</h3>\n                <Table columns={income_columns} dataSource={this.state.income} size='small' pagination={false} scroll={{ y: 240 }} />\n            </div>\n              \n        )\n    }\n    componentWillMount() {\n        console.log('componentWillMount');\n        this.GetData(window.localStorage.getItem('shopname'),window.localStorage.getItem('branch'));\n      }\n      GetData = (shop,branch,date) =>{\n        axios.get(baseURL+'/ShopData/getLastStock',\n            {\n              params: {\n                shop : shop,\n                branch : branch,\n                date:'2019-06-06'\n              }\n            }\n          )\n          .then( (response) =>{\n          this.setState({data:response.data});\n        })\n        .catch(function (error) {\n          console.log(error);\n        }); \n        \n        axios.get(baseURL+'/ShopData/getLastExpense',\n        {\n          params: {\n            shop: shop,\n            branch: branch\n          }\n        })\n        .then( (response) => {\n          this.setState({expense:response.data});\n        })\n        .catch(function (error) {\n          console.log(error);\n        }); \n        \n        axios.get(baseURL+'/ShopData/getLastIncome',\n        {\n          params: {\n            shop: shop,\n            branch: branch\n          }\n        })\n        .then( (response) => {\n          this.setState({income:response.data});\n        })\n        .catch(function (error) {\n          console.log(error);\n        }); \n        axios.get(baseURL+'/ShopData/getLastUploadDate',\n        {\n          params: {\n            shop: shop,\n            branch: branch\n          }\n        })\n        .then( (response) => {\n          this.setState({lastUploadDate:response.data});\n        })\n        .catch(function (error) {\n          console.log(error);\n        }); \n      }\n}\n\nexport default ListItem\n"]},"metadata":{},"sourceType":"module"}