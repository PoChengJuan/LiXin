{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/React/LiXin/src/FrontEnd/Container/Main.js\";\nimport React from 'react';\nimport { Menu, Icon, Layout, Affix } from 'antd';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\nimport '../../App.css';\nimport './Main.css';\nimport Logo from '../pic/LiXin.png';\nimport ShoppingCar from '../Components/ShoppingCar.js';\nimport Home from '../Components/Home.js';\nimport Product from '../Components/Product.js';\nimport Contact from '../Components/Contact.js';\nconst Header = Layout.Header,\n      Footer = Layout.Footer,\n      Content = Layout.Content;\nconst BranchData = [{\n  key: 1,\n  shopname: 'xxx'\n}];\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.ShopChangeHandle = e => {\n      console.log('dropdown change to ' + e.key);\n      this.setState({\n        Branch: this.state.BranchList[e.key - 1].branch\n      });\n      window.localStorage.setItem('branch', this.state.BranchList[e.key - 1].branch);\n    };\n\n    this.handleClick = e => {\n      console.log('click ', e);\n      this.setState({\n        current: e.key\n      });\n    };\n\n    this.state = {\n      Branch: window.localStorage.getItem('branch'),\n      BranchList: BranchData,\n      StockPage: false,\n      ScrapPage: false,\n      isAuth: '',\n      Display: '',\n      visible: false,\n      warningData: [],\n      current: '1'\n    };\n\n    this.saveRef = ref => {\n      this.refDom = ref;\n    };\n  }\n\n  StockFunction(e) {\n    this.setState({\n      StockPage: true\n    });\n  }\n\n  ScrapFunction(e) {\n    this.setState({\n      ScrapPage: true\n    });\n  }\n\n  LogoutFunction() {\n    window.sessionStorage.setItem('isAuth', 'false');\n    this.setState({\n      isAuth: 'false'\n    });\n  }\n\n  render() {\n    const routes = [{\n      path: \"/\",\n      exact: true,\n      //main: () => <Info Branch={this.state.Branch} Width={1500} />\n      main: () => React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })\n    }, {\n      path: '/Product',\n      exact: true,\n      main: () => React.createElement(Product, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })\n    }, {\n      path: \"/ShoppingCar\",\n      exact: true,\n      main: () => React.createElement(ShoppingCar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })\n    }, {\n      path: \"/Contact\",\n      exact: true,\n      main: () => React.createElement(Contact, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })\n    }];\n    const _this$state = this.state,\n          StockPage = _this$state.StockPage,\n          ScrapPage = _this$state.ScrapPage;\n\n    if (window.sessionStorage.getItem('isAuth') === 'false') {\n      return React.createElement(Redirect, {\n        to: '/',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    }\n\n    if (StockPage === true) {\n      return React.createElement(Redirect, {\n        to: 'User',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    }\n\n    if (ScrapPage === true) {\n      return React.createElement(Redirect, {\n        to: 'Scrap',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      });\n    }\n\n    console.log('Main');\n    return React.createElement(\"div\", {\n      className: \"MainPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Affix, {\n      offsetTop: this.state.top,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Header, {\n      className: \"Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"\",\n      src: Logo,\n      alt: \"LOGO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(Menu, {\n      onClick: this.handleClick,\n      theme: \"light\",\n      defaultSelectedKeys: ['1'],\n      selectedKeys: [this.state.current],\n      mode: \"horizontal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      key: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\\u9996\\u9801\"), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(Menu.Item, {\n      key: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"appstore\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u7522\\u54C1\"), React.createElement(Link, {\n      to: \"/Product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(Menu.Item, {\n      key: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"shopping-cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u8CFC\\u7269\\u8ECA\"), React.createElement(Link, {\n      to: \"/ShoppingCar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(Menu.Item, {\n      key: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"nav-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\u806F\\u7D61\\u6211\\u5011\"), React.createElement(Link, {\n      to: \"/Contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }))))), React.createElement(Content, {\n      className: \"Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      ref: this.saveRef,\n      style: {\n        flex: 1,\n        padding: \"10px\",\n        width: \"0%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, routes.map((route, index) => // Render more <Route>s with the same paths as\n    // above, but different components this time.\n    React.createElement(Route, {\n      key: index,\n      path: route.path,\n      exact: route.exact,\n      component: route.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })))))), React.createElement(Footer, {\n      className: \"Footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })));\n  }\n\n  componentWillMount() {\n    console.log('componentWillMount');\n    console.log(window.localStorage.getItem('shopname')); //console.log(this.state.Branch)\n    //this.setState({isAuth:window.sessionStorage.getItem('isAuth')});\n    //console.log(window.sessionStorage.getItem('isAuth'))\n\n    if (window.sessionStorage.getItem('permission') === '9') {\n      this.setState({\n        Position: '開發者',\n        Display: true\n      });\n    } else if (window.sessionStorage.getItem('permission') === '7') {\n      this.setState({\n        Position: '老闆',\n        Display: false //  Display:true\n\n      });\n    }\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/mac/Documents/React/LiXin/src/FrontEnd/Container/Main.js"],"names":["React","Menu","Icon","Layout","Affix","BrowserRouter","Router","Route","Link","Redirect","Logo","ShoppingCar","Home","Product","Contact","Header","Footer","Content","BranchData","key","shopname","MainPage","Component","constructor","props","ShopChangeHandle","e","console","log","setState","Branch","state","BranchList","branch","window","localStorage","setItem","handleClick","current","getItem","StockPage","ScrapPage","isAuth","Display","visible","warningData","saveRef","ref","refDom","StockFunction","ScrapFunction","LogoutFunction","sessionStorage","render","routes","path","exact","main","top","display","width","height","flex","padding","map","route","index","componentWillMount","Position"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Menu, Icon, Layout,Affix } from 'antd';\nimport { BrowserRouter as Router, Route, Link, Redirect } from \"react-router-dom\";\nimport '../../App.css'\nimport './Main.css'\nimport Logo from '../pic/LiXin.png' \nimport ShoppingCar from '../Components/ShoppingCar.js';\nimport Home from '../Components/Home.js'\nimport Product from '../Components/Product.js'\nimport Contact from '../Components/Contact.js'\nconst {\n  Header, Footer, Content,\n} = Layout;\n\n\nconst BranchData = [\n  {\n    key:1,\n    shopname:'xxx'\n  }\n]\nclass MainPage extends React.Component{\n  \n  constructor(props){\n    super(props);\n    this.state = {\n      Branch: window.localStorage.getItem('branch'),\n      BranchList:BranchData,\n      StockPage: false,\n      ScrapPage: false,\n      isAuth:'',\n      Display:'',\n      visible:false,\n      warningData:[],\n      current:'1'\n    }\n      this.saveRef = ref => {this.refDom = ref};\n  }\n  ShopChangeHandle = e => {\n    console.log('dropdown change to '+e.key)\n    this.setState({Branch:this.state.BranchList[e.key-1].branch})\n    window.localStorage.setItem('branch',this.state.BranchList[e.key-1].branch);\n  }\n  StockFunction(e){\n    this.setState({StockPage:true})\n  }\n  ScrapFunction(e){\n    this.setState({ScrapPage:true})\n  }\n  LogoutFunction(){\n    window.sessionStorage.setItem('isAuth','false');\n    this.setState({isAuth:'false'});\n  }\n  render(){\n    const routes = [\n      {\n        path: \"/\",\n        exact: true,\n        //main: () => <Info Branch={this.state.Branch} Width={1500} />\n        main: () => <Home />\n      },\n      {\n        path: '/Product',\n        exact: true,\n        main: () => <Product />\n      },\n      {\n        path: \"/ShoppingCar\",\n        exact: true,\n        main: () => <ShoppingCar/>\n      },\n      {\n        path: \"/Contact\",\n        exact: true,\n        main: () => <Contact/>\n      }\n    ];\n    const { StockPage,ScrapPage } = this.state;\n    if(window.sessionStorage.getItem('isAuth') === 'false'){\n      return <Redirect to={'/'} />\n    }\n    if(StockPage === true){\n      return <Redirect to={'User'} />\n    }\n    if(ScrapPage === true){\n      return <Redirect to={'Scrap'} />\n    }\n    console.log('Main')\n    return(\n      <div className=\"MainPage\">\n        <Layout>\n        <Router>\n          <Affix offsetTop={this.state.top}>\n            <Header className=\"Header\">\n            <div className='logo'>\n              <img className=\"\" src={Logo} alt=\"LOGO\" />\n            </div>\n            \n\n              <Menu onClick={this.handleClick} theme='light' defaultSelectedKeys={['1']} selectedKeys={[this.state.current]} mode=\"horizontal\">\n                <Menu.Item key=\"1\">\n                  <Icon type=\"home\" />\n                  <span className=\"nav-text\">首頁</span>\n                  <Link to='/'></Link>\n                </Menu.Item>\n                <Menu.Item key=\"2\" >\n                  <Icon type=\"appstore\" />\n                  <span className=\"nav-text\">產品</span>\n                  <Link to='/Product' />\n                </Menu.Item>\n                <Menu.Item key=\"3\" >\n                  <Icon type=\"shopping-cart\" />\n                  <span className=\"nav-text\">購物車</span>\n                  <Link to='/ShoppingCar' />\n                </Menu.Item>\n                <Menu.Item key=\"4\" >\n                  <Icon type=\"phone\" />\n                  <span className=\"nav-text\">聯絡我們</span>\n                  <Link to='/Contact' />\n                </Menu.Item>\n              </Menu>\n            </Header>\n          </Affix>\n              \n                  \n                  <Content className=\"Content\">\n                    <div style={{ display: \"flex\",width: \"100%\",height: \"100%\" }}>\n                      <div ref={this.saveRef} style={{ flex: 1, padding: \"10px\", width: \"0%\" }}>\n                        {routes.map((route, index) => (\n                          // Render more <Route>s with the same paths as\n                          // above, but different components this time.\n                          <Route\n                            key={index}\n                            path={route.path}\n                            exact={route.exact}\n                            component={route.main}\n                          />\n                        ))}\n                      </div>\n                    </div>\n                  </Content>\n              </Router>  \n              \n            <Footer className=\"Footer\"></Footer>\n        </Layout>\n        \n      </div>\n    )\n  }\n  handleClick = e => {\n    console.log('click ', e);\n    this.setState({\n      current: e.key,\n    });\n  };\n  componentWillMount() {\n    console.log('componentWillMount')\n    console.log(window.localStorage.getItem('shopname'))\n    //console.log(this.state.Branch)\n    //this.setState({isAuth:window.sessionStorage.getItem('isAuth')});\n    //console.log(window.sessionStorage.getItem('isAuth'))\n    \n\n    if(window.sessionStorage.getItem('permission') === '9'){\n      this.setState({Position:'開發者',\n      Display:true});\n    }else if(window.sessionStorage.getItem('permission') === '7'){\n      this.setState({Position:'老闆',\n      Display:false\n      //  Display:true\n      });\n    }\n  }\n  \n  \n}\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}