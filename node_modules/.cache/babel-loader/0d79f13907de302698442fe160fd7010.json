{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/React/workspace/src/FrontEnd/Container/Login.js\";\nimport React from 'react';\nimport Button from 'antd/lib/button';\nimport { Input } from 'antd';\nimport { Typography, Layout, Row, Col } from 'antd';\nimport CSILogo from '../png/Logo.png';\nimport { observer, inject } from 'mobx-react';\nimport '../../App.css';\nimport './Login.css';\nimport axios from 'axios';\nimport md5 from 'md5';\nimport { BrowserRouter as Router, Route, Link, Redirect, withRouter } from \"react-router-dom\";\nconst Title = Typography.Title;\nconst Header = Layout.Header,\n      Content = Layout.Content; //export default inject('UserInfoStore')(observer(LoginPage));\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.UserInfoStore = this.props.UserInfoStore;\n    this.state = {\n      redirectToReferrer: false\n    };\n    this.state = {\n      isAuth: false,\n      userInput: '',\n      pwInput: '',\n      Name: '',\n      Password: '',\n      Permission: '',\n      ShopName: ''\n    };\n  }\n\n  UserHandle(e) {\n    this.setState({\n      userInput: e.target.value\n    });\n  }\n\n  PSHandle(e) {\n    this.setState({\n      pwInput: e.target.value\n    });\n  }\n\n  LoginFunction(event) {\n    //axios.get('http://localhost:8080/User/getMember?name='+this.state.userInput)\n    axios.get('http://localhost:8080/User/getMember', {\n      params: {\n        name: this.state.userInput,\n        password: md5(this.state.pwInput)\n      }\n    }).then(response => {\n      for (var index in response.data[0]) {\n        if (index === \"name\") {\n          this.setState({\n            Name: response.data[0][index]\n          }); //this.props.UserInfoStore.name = '1111';\n          //console.log(\"test\")\n          //console.log(this.props.UserInfoStore.name)\n          //UserInfoStore.name = response.data[0][index];\n          //console.log(this.state.Name)\n        }\n\n        if (index === \"password\") {\n          this.setState({\n            Password: response.data[0][index]\n          }); //console.log(response.data[0][index]);\n        }\n\n        if (index === \"permission\") {\n          this.setState({\n            Permission: response.data[0][index]\n          }); //console.log(response.data[0][index]);\n        }\n\n        if (index === \"shopname\") {\n          this.setState({\n            ShopName: response.data[0][index]\n          }); //console.log(response.data[0][index]);\n        }\n      }\n\n      if (md5(this.state.pwInput) === this.state.Password) {\n        //console.log(\"OKOKOK\")\n        this.setState({\n          redirectToReferrer: true\n        });\n      }\n\n      this.setState({\n        isAuth: true\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    //let { from } = this.props.location.state || { from: { pathname: \"/\" } };\n    let redirectToReferrer = this.state.redirectToReferrer;\n\n    if (redirectToReferrer === true) {\n      console.log(\"OK\");\n      return React.createElement(Redirect, {\n        to: 'User',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      });\n    } else if (redirectToReferrer === false) {\n      console.log(\"NG\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Header, {\n      className: \"Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Phone:xxxxxxxxxx\"))), React.createElement(Col, {\n      span: 24,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Content, {\n      className: \"Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"LoginContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: CSILogo,\n      alt: \"CSILogo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Title, {\n      level: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"User:\", React.createElement(Input, {\n      className: \"UserInput\",\n      autoFocus: \"true\",\n      defaultValue: this.state.userInput,\n      onChange: this.UserHandle.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(Title, {\n      level: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"PW:\", React.createElement(Input.Password, {\n      className: \"UserInput\",\n      defaultValue: this.state.pwInput,\n      onChange: this.PSHandle.bind(this),\n      onPressEnter: this.LoginFunction.bind(this),\n      placeholder: \"input password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.LoginFunction.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Login\"))))))));\n  }\n\n}\n\nfunction LoginPage() {\n  return React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  });\n}\n\nexport default LoginPage; //export default inject('UserInfoStore')(observer(LoginPage));","map":{"version":3,"sources":["/Users/mac/Documents/React/workspace/src/FrontEnd/Container/Login.js"],"names":["React","Button","Input","Typography","Layout","Row","Col","CSILogo","observer","inject","axios","md5","BrowserRouter","Router","Route","Link","Redirect","withRouter","Title","Header","Content","Login","Component","constructor","props","UserInfoStore","state","redirectToReferrer","isAuth","userInput","pwInput","Name","Password","Permission","ShopName","UserHandle","e","setState","target","value","PSHandle","LoginFunction","event","get","params","name","password","then","response","index","data","catch","error","console","log","render","bind","LoginPage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Button from 'antd/lib/button';\nimport { Input } from 'antd';\nimport { Typography, Layout, Row, Col } from 'antd';\nimport CSILogo from '../png/Logo.png';\nimport { observer, inject } from 'mobx-react'\nimport '../../App.css'\nimport './Login.css'\nimport axios from 'axios'\nimport md5 from 'md5'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Redirect,\n  withRouter\n} from \"react-router-dom\";\n\nconst { Title } = Typography;\nconst {\n  Header, Content,\n} = Layout;\n\n//export default inject('UserInfoStore')(observer(LoginPage));\n\nclass Login extends React.Component{\n  UserInfoStore = this.props.UserInfoStore\n  state = { redirectToReferrer: false };\n  constructor(props){\n    super(props);\n    this.state = {\n      isAuth:false,\n      userInput: '',\n      pwInput: '',\n      Name:'',\n      Password:'',\n      Permission:'',\n      ShopName:''}\n      \n  }\n  UserHandle(e){\n    this.setState({userInput: e.target.value});\n  }\n  PSHandle(e){\n    this.setState({pwInput: e.target.value});\n  }\n  LoginFunction(event){\n    //axios.get('http://localhost:8080/User/getMember?name='+this.state.userInput)\n    axios.get('http://localhost:8080/User/getMember',\n    {params: {\n      name : this.state.userInput\n      ,password : md5(this.state.pwInput)}}\n      )\n    .then( (response) =>{\n      for(var index in response.data[0]) {\n        if(index===\"name\")\n        {\n          this.setState({Name:response.data[0][index]})\n          //this.props.UserInfoStore.name = '1111';\n          //console.log(\"test\")\n          //console.log(this.props.UserInfoStore.name)\n          //UserInfoStore.name = response.data[0][index];\n          //console.log(this.state.Name)\n        }\n        if(index===\"password\"){\n          this.setState({Password:response.data[0][index]})          \n          //console.log(response.data[0][index]);\n        }\n        if(index===\"permission\"){\n          this.setState({Permission:response.data[0][index]})\n          //console.log(response.data[0][index]);\n        }\n        if(index===\"shopname\"){\n          this.setState({ShopName:response.data[0][index]})\n          //console.log(response.data[0][index]);\n        }\n      } \n      if(md5(this.state.pwInput) === this.state.Password){\n        //console.log(\"OKOKOK\")\n        this.setState({redirectToReferrer: true})\n      }\n      this.setState({isAuth:true});\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n    \n  }\n  render(){\n    //let { from } = this.props.location.state || { from: { pathname: \"/\" } };\n    let { redirectToReferrer } = this.state;\n    if(redirectToReferrer === true){\n      console.log(\"OK\")\n      return <Redirect to={'User'} />\n    }else if(redirectToReferrer === false){\n      console.log(\"NG\")\n    }\n    return(\n      <div className=\"App\">\n        <Row>\n          <Layout >\n            <Col span={24}>\n              <Header className=\"Header\">\n                <p>Phone:xxxxxxxxxx</p>\n              </Header>\n            </Col>\n            <Col span={24}>\n              <Content className=\"Content\">\n                <div className=\"LoginContent\">\n                  <img src={CSILogo} alt='CSILogo' />\n                  <div className=\"Content\">\n                    <Title level={3}>User:<Input className=\"UserInput\" autoFocus=\"true\" defaultValue = {this.state.userInput} onChange={this.UserHandle.bind(this)} /></Title>\n                    <Title level={3}>PW:<Input.Password className=\"UserInput\" defaultValue = {this.state.pwInput} onChange={this.PSHandle.bind(this)} onPressEnter={this.LoginFunction.bind(this)} placeholder=\"input password\" /></Title>              \n                    <Button type=\"primary\" onClick={this.LoginFunction.bind(this)}>Login</Button>\n                  </div>\n                </div>\n              </Content>\n            </Col>\n          </Layout>\n        </Row>\n      </div>\n    )\n  }\n}\n\n\n\n\n\nfunction LoginPage() {\n  \n  return (\n    <Login />\n  );\n}\nexport default LoginPage;\n//export default inject('UserInfoStore')(observer(LoginPage));"]},"metadata":{},"sourceType":"module"}